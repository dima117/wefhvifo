!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="https://yastatic.net/safeframe-bundles/",t(t.s=25)}([function(e,t,n){"use strict";function o(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function r(e,t){if(e)for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},o=function(e,t){n[e]=t},i=0,s=e;i<s.length;i++){r(s[i],o)}return n}function s(e){return i(e)}function a(e){c++;var t=(new Date).getTime(),n=Math.round(100*Math.random());return[e||"","_",t,"_",n,"_",c].join("")}function u(e){var t=[];return r(e,function(e,n){var o="number"==typeof n?n+"px":n;t.push(e+":"+o)}),0===t.length?"":t.join(";")+";"}function d(e){return 0===e.length?"":e.reduce(function(e,t){return e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")})}function f(){var e=navigator.plugins;if(e.length>0)for(var t=0,n=e.length;t<n;t++)if(-1!==e[t].name.toLowerCase().indexOf("flash")){var o=/\d+\.\d+/.exec(e[t].description);if(o)return parseFloat(o[0])}return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.trim=o,t.forEachProp=r,t.merge=i,t.shallowCopy=s;var c=0;t.guid=a,t.toCssString=u,t.concatPath=d,t.getFlashVersion=f},function(e,t,n){"use strict";function o(e,t,n){e.setAttribute(t,n)}function r(e,t){return e.getAttribute(t)}function i(e,t){e.style.cssText=t}function s(e,t){e.appendChild(t)}function a(e){var t=p(e);t&&t.removeChild(e)}function u(e,t,n,o){void 0===o&&(o=!1),e.addEventListener(t,n,o)}function d(e,t,n){e.removeEventListener(t,n,!1)}function f(e){return e.contentWindow}function c(e){return window.getComputedStyle(e,null)}function l(e){return e.getBoundingClientRect()}function p(e){return e&&(e.parentNode||e.parentElement)||null}function h(e){if(e){var t=!/\{[^\}]*}/g.test(e),n=void 0;t?(n=document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.href=e):(n=document.createElement("style"),n.type="text/css",n.appendChild(document.createTextNode(e)));document.getElementsByTagName("head")[0].appendChild(n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.setAttr=o,t.getAttr=r,t.setStyle=i,t.appendChild=s,t.removeFromDocument=a,t.addEventListener=u,t.removeEventListener=d,t.getIframeWindow=f,t.getCurrentStyle=c,t.getRect=l,t.parent=p,t.createStyleSheet=h},function(e,t,n){"use strict";function o(){}function r(e){if(void 0===e&&(e={}),!P){if(m.default.getStatus())return v.logError("Cannot update Config while system is busy"),null;P=p.merge(w,e),P.positions={},e.positions&&p.forEachProp(e.positions,function(e,t){P.positions[e]=h.default(p.merge(t,{id:e}))}),P.auto&&g.default()}return null===P?null:p.shallowCopy(P)}function i(){return null!==P}function s(e){i()&&(P.positions[e.id]=e)}function a(e){return i()&&P.positions[e]?P.positions[e]:null}function u(){if(i()){var e=p.concatPath([P.cdn,P.root,P.version,P.renderFile]);return e}return null}function d(e){i()&&P.onStartPosRender(e)}function f(e){i()&&P.onEndPosRender(e)}function c(e){i()&&P.onFailure(e)}function l(){P=null}Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),h=n(10),g=n(8),m=n(4),v=n(3),y={cdn:"//yastatic.net",root:"/safeframe-bundles/0.19",renderFile:"render.html",renderFileAdb:"render_adb.html"},w={root:y.root,cdn:y.cdn,renderFile:y.renderFile,debug:!1,auto:!0,to:6e4,onBeforePosMsg:o,onPosMsg:o,onStartPosRender:o,onEndPosRender:o,onFailure:o,version:"1-1-0"},P=null;t.default=r,t.isConfigReady=i,t.addPosConfig=s,t.findPosConfig=a,t.getRenderFileURL=u,t.notifyBeforePosMsg=function(e,t,n){return!!i()&&P.onBeforePosMsg(e,t,n)},t.notifyPosMsg=function(e,t,n){i()&&P.onPosMsg(e,t,n)},t.notifyStartPosRender=d,t.notifyEndPosRender=f,t.notifyFailure=c,t.resetConfig=l},function(e,t,n){"use strict";function o(e){window.console&&window.console.log&&window.console.log("[SafeFrame info] "+e)}function r(e){window.console&&window.console.error?window.console.error("[SafeFrame error] "+e):o("[SafeFrame error] "+e);var t=window;t.$sf&&t.$sf.info&&t.$sf.info.errs&&t.$sf.info.errs.push&&t.$sf.info.errs.push(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.logInfo=o,t.logError=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(2),i=function(){function e(){this.reset()}return e.prototype.setPositionReady=function(e){this.positions[e.id]=e,this.busyStatuses[e.id]="ready"},e.prototype.setPositionLoading=function(e,t,n){this.busyStatuses[e]="loading",this.iframes[e]=t,this.loadingTimeoutIds[e]=n,r.notifyStartPosRender(e)},e.prototype.setPositionLoaded=function(e){clearTimeout(this.loadingTimeoutIds[e]),delete this.busyStatuses[e],delete this.loadingTimeoutIds[e],r.notifyEndPosRender(e)},e.prototype.setPositionExpanding=function(e){this.busyStatuses[e]="expanding"},e.prototype.setPositionExpanded=function(e){this.busyStatuses[e]="expanded"},e.prototype.setPositionCollapsing=function(e){this.busyStatuses[e]="collapsing"},e.prototype.setPositionCollapsed=function(e){delete this.busyStatuses[e]},e.prototype.setPositionError=function(e){clearTimeout(this.loadingTimeoutIds[e]),this.busyStatuses[e]="error",delete this.iframes[e],r.notifyFailure(e)},e.prototype.setPositionNuked=function(e){clearTimeout(this.loadingTimeoutIds[e]),delete this.positions[e],delete this.iframes[e],delete this.busyStatuses[e],delete this.loadingTimeoutIds[e]},e.prototype.getPositionStatus=function(e){return{busy:this.busyStatuses[e]||null,iframe:this.iframes[e]||null}},e.prototype.getPositionsReadyForRender=function(){var e=this,t=[];return o.forEachProp(this.busyStatuses,function(n,o){"ready"===o&&t.push(e.positions[n])}),t},e.prototype.getRenderedPositions=function(){var e=this,t=[];return o.forEachProp(this.positions,function(n){"ready"!==e.busyStatuses[n]&&t.push(n)}),t},e.prototype.getStatus=function(e){var t=!1;return o.forEachProp(this.busyStatuses,function(n,o){t=!0,e&&(e[n]=o)}),t},e.prototype.getPosition=function(e){return this.positions[e]||null},e.prototype.reset=function(){this.busyStatuses={},this.iframes={},this.loadingTimeoutIds={},this.positions={}},e}();t.Status=i,t.default=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=function(){function e(){var e=this;this.iframes=[],this.guids=[],this.callbacks=[],o.addEventListener(window,"message",function(t){e.handleMessage(t)})}return e.prototype.register=function(e,t,n){this.iframes.push(e),this.guids.push(t),this.callbacks.push(n)},e.prototype.unregister=function(e){var t=this.iframes.indexOf(e);-1!==t&&(this.iframes.splice(t,1),this.guids.splice(t,1),this.callbacks.splice(t,1))},e.prototype.send=function(e,t){var n=this.iframes.indexOf(e);if(-1!==n){var r=this.guids[n],i=void 0;try{i=JSON.stringify({guid:r,payload:t})}catch(e){}if(!i)return;var s=o.getIframeWindow(e);s&&s.postMessage(i,"*")}},e.prototype.handleMessage=function(e){var t;try{t=JSON.parse(e.data)}catch(e){}if(t&&t.guid){var n=this.guids.indexOf(t.guid);if(-1!==n){var r=this.iframes[n],i=this.callbacks[n];o.getIframeWindow(r)===e.source&&i(t.payload)}}},e}();t.default=new r},function(e,t,n){"use strict";function o(e){var t={};return i.forEachProp(e,function(e,n){var o=typeof n;"number"!==o&&"string"!==o&&"boolean"!==o||(t[e]=n)}),t}function r(e){return e&&e.sharedData&&"string"==typeof e.ownerKey&&e.privateData?new s(e.sharedData,e.ownerKey,e.privateData):null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.createPosMeta=r;var s=function(){function e(e,t,n){this.sharedData=o(e),this.ownerKey=t,this.privateData=o(n)}return e.prototype.value=function(e,t){return e in this.sharedData?this.sharedData[e]:t===this.ownerKey&&e in this.privateData?this.privateData[e]:void 0},e.prototype.getFullMeta=function(){return{sharedData:this.sharedData,ownerKey:this.ownerKey,privateData:this.privateData}},e}();t.default=s},function(e,t,n){"use strict";function o(){return"complete"===document.readyState||"interactive"===document.readyState&&!document.documentElement.doScroll}function r(e){o()?setTimeout(e):a.push(e)}function i(){s.removeEventListener(document,"DOMContentLoaded",i),s.removeEventListener(window,"load",i);for(var e=0,t=a;e<t.length;e++){(0,t[e])()}a=[]}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),a=[];t.default=r,o()||(s.addEventListener(document,"DOMContentLoaded",i),s.addEventListener(window,"load",i))},function(e,t,n){"use strict";function o(){for(var e=document.getElementsByTagName("script"),t=[],n=0;n<e.length;n++){var o=e[n];o.className!==v&&p.getAttr(o,"type")!==y||-1===w.indexOf(o)&&(t.push({parent:p.parent(o),data:d.trim(o.text||o.innerHTML||o.innerText)}),w.push(o))}return h.default(r),t}function r(){for(var e=0,t=w;e<t.length;e++){var n=t[e];p.removeFromDocument(n)}w=[]}function i(e){var t,n=e.data,o=e.parent;try{t=new Function("return "+n)()}catch(e){return f.logError("Error parsing tag configuration "+(e&&e.message||"")),null}if(t&&(t.html||t.src)){t.conf=t.conf||{};var r=g.findPosConfig(t.id);r&&(t.conf=d.merge(r,t.conf)),t.conf.dest=t.conf.dest||d.guid("dest");if(!document.getElementById(t.conf.dest)){var i=document.createElement("div");p.setAttr(i,"id",t.conf.dest),o.appendChild(i)}m.default.setPositionReady(new c.default(t))}else f.logError("no content found in the inline position object")}function s(){g.isConfigReady()||f.logError("can't boot before config initialized"),o().forEach(i)}function a(e){g.default(e)}function u(){g.isConfigReady()||f.logError("can't boot before config initialized"),s(),l.default(m.default.getPositionsReadyForRender())}Object.defineProperty(t,"__esModule",{value:!0});var d=n(0),f=n(3),c=n(11),l=n(20),p=n(1),h=n(7),g=n(2),m=n(4),v="sf_data",y="text/x-safeframe",w=[];t.grabScripts=s,t.parseInlineConfig=a,t.default=u},function(e,t,n){"use strict";function o(e){return encodeURIComponent(JSON.stringify(e))}function r(e){try{var t=JSON.parse(decodeURIComponent(e));if(t.id&&t.html&&t.pmGuid)return t}catch(e){}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=o,t.decode=r},function(e,t,n){"use strict";function o(e,t,n){var o;"object"==typeof e?(o=e,o.dest=o.dest||t):o={id:e};var u,d="100%"===o.w?o.w:Number(o.w)||0,f="100%"===o.h?o.h:Number(o.h)||0;if((!d||!f)&&o.size){var c=o.size.split(/x/gi);d=parseInt(c[0],10)||0,f=parseInt(c[1],10)||0}d&&f?u=d+"x"+f:(d=0,f=0,u="");var l=o.tgt||"_blank";"_self"!==l&&"_parent"!==l||(l="_top");var p={id:o.id||i.guid(s.POS_ID_AUTO_PREFIX),dest:o.dest||"",bg:o.bg||"transparent",css:o.css||"",z:Number(o.z)||0,supports:i.merge(a,o.supports),w:d,h:f,size:u,tgt:l};return n&&null===r.default()&&r.default(n),null!==r.default()&&r.addPosConfig(p),p}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(0),s=n(16),a={"exp-ovr":!0,"exp-push":!1,"read-cookie":!1,"write-cookie":!1};t.default=o},function(e,t,n){"use strict";function o(e){var t=s.default().version,n=l.isEnabled?"1":"0",o=a.getFlashVersion().toString();return e.replace(/\${sf_ver}/g,t).replace(/\${ck_on}/g,n).replace(/\${flash_ver}/g,o)}function r(e){return["<scr",'ipt type="text/javascript" src="',e,'"></scr',"ipt>"].join("")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),s=n(2),a=n(0),u=n(3),d=n(16),f=n(15),c=n(6),l=n(12),p=n(28),h=function(){function e(t,n,l,p){if(void 0===t)return void u.logError("posIDorObj is required");if(!s.isConfigReady())return void u.logError("Publisher Config not initialized - abort");if(!(this instanceof e))return new e(t,n,l,p);var h;if(h="object"==typeof t?t:{id:t},h.html=n||h.html,h.meta=l||h.meta,h.conf=p||h.conf,h.id?this.id=h.id:h.conf&&h.conf.id?this.id=h.conf.id:this.id=a.guid(d.POS_ID_AUTO_PREFIX),h.html?this.html=h.html:h.src?this.html=r(o(h.src)):this.html="",this.src="",this.meta=h.meta instanceof c.default?h.meta:f.fromInlineCode(h.meta),h.conf)h.conf.id=this.id,this.conf=i.default(h.conf);else{var g=s.findPosConfig(this.id);this.conf=g||i.default({id:this.id})}}return e.prototype.toString=function(){return p.default({id:this.id,meta:this.meta,html:this.html,conf:this.conf,src:this.src})},e}();t.default=h},function(e,t,n){"use strict";function o(e){var t=i.get(e);return"string"==typeof t?t:null}function r(e,t,n){var o=n||new Date(2100,0);i.set(e,t,{expires:o})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(36),s=n(0);t.read=o,t.write=r,t.isEnabled=function(){var e=s.guid("safeframe-test-cookie");i.set(e,"test");var t="test"===i.get(e);return i.expire(e),t}()},function(e,t,n){"use strict";function o(e,t){return{width:e.w,height:e.h,top:0,left:0,position:t?"relative":"absolute"}}function r(e){return{width:e.w,height:e.h,position:"relative"}}function i(e,t,n){var i=o(t),s=r(t);n.t&&("number"==typeof i.height&&(i.height+=n.t),n.push||(i.top=-n.t)),n.l&&("number"==typeof i.width&&(i.width+=n.l),n.push||(i.left=-n.l)),n.b&&"number"==typeof i.height&&(i.height+=n.b),n.r&&"number"==typeof i.width&&(i.width+=n.r),n.push&&(s.width=i.width,s.height=i.height),u.setStyle(e,a.toCssString(i)),u.setStyle(u.parent(e),a.toCssString(s))}function s(e,t){var n=o(t),i=r(t);u.setStyle(e,a.toCssString(n)),u.setStyle(u.parent(e),a.toCssString(i))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),u=n(1);t.initialIframeStyle=o,t.initialWrapStyle=r,t.expand=i,t.collapse=s},function(e,t,n){"use strict";function o(e){e&&e.iframe&&(a.default.unregister(e.iframe),d.default.unregister(e.iframe),u.default.unregister(e.iframe),f.removeFromDocument(e.iframe))}function r(e){e&&e.iframe&&f.setStyle(f.parent(e.iframe),"")}function i(e){var t;t=e&&"*"!==e?"string"==typeof e?[e]:e:s.default.getRenderedPositions();for(var n=0,i=t;n<i.length;n++){var a=i[n],u=c.findPosConfig(a);if(u){var d=s.default.getPositionStatus(a);"expanded"===d.busy&&l.collapse(d.iframe,u)}var f=s.default.getPositionStatus(a);r(f),o(f),s.default.setPositionNuked(a)}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),a=n(19),u=n(5),d=n(17),f=n(1),c=n(2),l=n(13);t.removeIframe=o,t.resetContainerStyles=r,t.default=i},function(e,t,n){"use strict";function o(e,t,n){var o=a.default();return o&&(e.sf_ver=o.version),e.ck_o=u.isEnabled?1:0,e.flash_ver=i.getFlashVersion(),new s.default(e,t,n)}function r(e){var t={},n="",r={};return i.forEachProp(e,function(e,o){"object"==typeof o?(n=e,r=o):t[e]=o}),o(t,n,r)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(6),a=n(2),u=n(12);t.createPosMeta=o,t.fromInlineCode=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POS_ID_AUTO_PREFIX="sf_pos"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(5),i=function(){function e(){var e=this;this.iframes=[],this.lastReportTime=-1/0,this.reportScheduled=!1,this.lastReportedValue=null;var t=function(){return e.report()};o.addEventListener(window,"focus",t),o.addEventListener(window,"blur",t)}return e.prototype.register=function(e){this.iframes.push(e)},e.prototype.unregister=function(e){var t=this.iframes.indexOf(e);-1!==t&&this.iframes.splice(t,1)},e.prototype.report=function(){if(0!==this.iframes.length){for(var e=document.hasFocus(),t=0,n=this.iframes;t<n.length;t++){var o=n[t];r.default.send(o,{type:"focus-updated",hasFocus:e})}this.lastReportTime=(new Date).getTime()}},e}();t.FocusUpdater=i,t.default=new i},function(e,t,n){"use strict";function o(){var e=window.innerWidth,t=window.innerHeight,n=window.screenY||0,o=window.screenX||0;return{t:Math.round(n),l:Math.round(o),w:Math.round(e),h:Math.round(t),b:Math.round(n+t),r:Math.round(o+e)}}function r(e,t){var n=a.getRect(e),o=n.right-n.left,r=n.bottom-n.top,i={l:Math.max(n.left,0),r:Math.min(n.right,t.w),t:Math.max(n.top,0),b:Math.min(n.bottom,t.h)},s={w:Math.max(i.r-i.l,0),h:Math.max(i.b-i.t,0)};return{t:Math.round(n.top),l:Math.round(n.left),b:Math.round(n.bottom),r:Math.round(n.right),w:Math.round(o),h:Math.round(r),xiv:s.w/o,yiv:s.h/r,iv:s.w*s.h/(o*r),z:Number(a.getCurrentStyle(e).zIndex)||0}}function i(e,t){return{t:Math.max(0,t.t),l:Math.max(0,t.l),r:Math.max(0,e.w-t.l-t.w),b:Math.max(0,e.h-t.t-t.h),xs:0,ys:0}}function s(e){var t=o(),n=r(e,t);return{win:t,self:n,exp:i(t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1);t.windowRect=o,t.selfRect=r,t.expansion=i,t.getGeom=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=n(18),i=n(5),s=function(){function e(){var e=this;this.iframes=[],this.lastRecalcTime=-1/0,this.recalcScheduled=!1;var t=function(){return e.handlePotentialChange()};o.addEventListener(window,"scroll",t,{passive:!0}),o.addEventListener(window,"resize",t,{passive:!0})}return e.prototype.register=function(e){this.iframes.push(e)},e.prototype.unregister=function(e){var t=this.iframes.indexOf(e);-1!==t&&this.iframes.splice(t,1)},e.prototype.recalc=function(){if(0!==this.iframes.length){for(var e=0,t=this.iframes;e<t.length;e++){var n=t[e],s=o.parent(n);s&&i.default.send(n,{type:"geom-updated",geom:r.getGeom(s)})}this.lastRecalcTime=(new Date).getTime(),this.recalcScheduled=!1}},e.prototype.handlePotentialChange=function(){var e=this;if(!this.recalcScheduled){var t=(new Date).getTime()-this.lastRecalcTime;t>=250?this.recalc():(setTimeout(function(){return e.recalc()},250-t),this.recalcScheduled=!0)}},e}();t.GeomUpdater=s,t.default=new s},function(e,t,n){"use strict";function o(e,t){var n=document.createElement("iframe");return h.setAttr(n,"frameborder","no"),h.setAttr(n,"scrolling","no"),h.setAttr(n,"allowtransparency","true"),h.setAttr(n,"hidefocus","true"),h.setAttr(n,"tabindex","-1"),h.setAttr(n,"marginwidth","0"),h.setAttr(n,"marginheight","0"),l.forEachProp(e,function(e,t){return h.setAttr(n,e,t)}),h.setStyle(n,t),n}function r(e){P.removeIframe(g.default.getPositionStatus(e)),g.default.setPositionError(e),b.logError('Render timeout of position "'+e+'"')}function i(e){var t=f.default();return setTimeout(function(){r(e)},1e3*t.to)}function s(e){g.default.setPositionLoaded(e)}function a(e){var t=e.id,n=e.html,r=e.meta,a=f.findPosConfig(e.id);P.default(e.id),g.default.setPositionReady(e);var u=a.w,d=a.h,c=document.getElementById(a.dest);if(!c)return void b.logError('Dest container for "'+t+'" no found. Render aborted.');var C=!1;if(!u||!d){var M=h.getRect(c);u=u||M.right-M.left||"100%",d=d||M.bottom-M.top||"100%",a.w=u,a.h=d,C="100%"===u||"100%"===d}h.setStyle(c,l.toCssString(_.initialWrapStyle(a)));var E={id:t,html:n,pmGuid:l.guid(),geom:v.getGeom(c),hasFocus:"function"!=typeof document.hasFocus||document.hasFocus(),supports:a.supports,css:a.css,bg:a.bg,posMeta:r.getFullMeta(),target:a.tgt},S={name:m.encode(E),src:f.getRenderFileURL(),width:u,height:d},k=o(S,l.toCssString(_.initialIframeStyle(a,C)));h.addEventListener(k,"load",function(){return s(t)}),p.default.register(k,E.pmGuid,function(e){return x.default(t,k,e)}),y.default.register(k),w.default.register(k),h.appendChild(c,k);var O=i(t);g.default.setPositionLoading(t,k,O)}function u(e){if(!f.isConfigReady())return void b.logError("Render called before Config was initialized");c.default(function(){(e instanceof Array?e:[e]).map(function(e){return e instanceof d.default?e:new d.default(e)}).forEach(a)})}Object.defineProperty(t,"__esModule",{value:!0});var d=n(11),f=n(2),c=n(7),l=n(0),p=n(5),h=n(1),g=n(4),m=n(9),v=n(18),y=n(19),w=n(17),P=n(14),b=n(3),_=n(13),x=n(35);t.createIframe=o,t.default=u},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r=n(2),i=n(11),s=n(10),a=n(4),u=n(20),d=n(14),f=n(15);t.default={render:u.default,nuke:d.default,Config:r.default,PosConfig:s.default,PosMeta:f.createPosMeta,Position:i.default,boot:o.default,status:function(e){return a.default.getStatus(e)},get:function(e){return a.default.getPosition(e)}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(22),r=n(0),i=n(8),s=window;s.$sf=s.$sf||{},s.$sf.info={errs:[]},s.$sf.host=r.merge(s.$sf.host||{},o.default),s.$sf.host.conf&&(i.parseInlineConfig(s.$sf.host.conf),delete s.$sf.host.conf),t.default=null},,,function(e,t,n){"use strict";function o(e){return r(e)}function r(e,t){var n=[];return s.forEachProp(e,function(e,o){var s,a=t?t+"["+e+"]":e;(s="object"==typeof o||Array.isArray(o)?r(o,a):i(a,o))&&n.push(s)}),n.join("&")}function i(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0);t.default=o},,,,,,,function(e,t,n){"use strict";function o(e,t,n){if("error"===n.type)for(var o=0,c=n.messages;o<c.length;o++){var l=c[o];r.notifyPosMsg(e,"error",l),a.logError('Error in "'+e+'":\n'+l)}if("expand-request"===n.type){var p=r.findPosConfig(e);if(!p)return void a.logError("Couldn't find config for position \""+e+'" while handling expand request');if(!p.supports[n.dim.push?"exp-push":"exp-ovr"])return a.logError('Expansion not allowed for position "'+e+'"'),void i.default.send(t,{type:"error",causedByMethod:"expand",message:"not allowed"});var h=r.notifyBeforePosMsg(e,"expand",n.dim);if(h)return void i.default.send(t,{type:"error",causedByMethod:"expand",message:"canceled"});s.default.setPositionExpanding(e),f.expand(t,p,n.dim),s.default.setPositionExpanded(e),i.default.send(t,{type:"expanded"}),r.notifyPosMsg(e,"expand",n.dim)}if("collapse-request"===n.type){var p=r.findPosConfig(e);if(!p)return void a.logError("Couldn't find config for position \""+e+'" while handling collapse request');if("expanded"!==s.default.getPositionStatus(e).busy)return a.logError('Collapse impossible, position "'+e+"\" isn't expanded."),void i.default.send(t,{type:"error",causedByMethod:"collapse",message:"not expanded"});var h=r.notifyBeforePosMsg(e,"collapse");if(h)return void i.default.send(t,{type:"error",causedByMethod:"collapse",message:"canceled"});s.default.setPositionCollapsing(e),f.collapse(t,p),s.default.setPositionCollapsed(e),i.default.send(t,{type:"collapsed"}),r.notifyPosMsg(e,"collapse")}if("nuke"===n.type&&(u.default(e),r.notifyPosMsg(e,"nuke")),"read-cookie-request"===n.type){var p=r.findPosConfig(e);if(!p)return void a.logError("Couldn't find config for position \""+e+'" while handling read cookie request');if(!p.supports["read-cookie"])return a.logError('Cookies read not allowed for position "'+e+'"'),void i.default.send(t,{type:"error",causedByMethod:"read-cookie",message:"Cookies read not allowed"});var h=r.notifyBeforePosMsg(e,"read-cookie",n.name);if(h)return void i.default.send(t,{type:"error",causedByMethod:"read-cookie",message:"canceled"});var g=d.read(n.name);i.default.send(t,{type:"cookie-read",name:n.name,value:g}),r.notifyPosMsg(e,"read-cookie",n.name)}if("write-cookie-request"===n.type){var m="number"==typeof n.expires?new Date(n.expires):void 0,v={name:n.name,value:n.value,expires:m},p=r.findPosConfig(e);if(!p)return void a.logError("Couldn't find config for position \""+e+'" while handling write cookie request');if(!p.supports["write-cookie"])return a.logError('Cookies write not allowed for position "'+e+'"'),void i.default.send(t,{type:"error",causedByMethod:"write-cookie",message:"Cookies write not allowed"});var h=r.notifyBeforePosMsg(e,"write-cookie",v);if(h)return void i.default.send(t,{type:"error",causedByMethod:"write-cookie",message:"canceled"});d.write(v.name,v.value,v.expires),i.default.send(t,{type:"cookie-written",name:v.name,value:v.value}),r.notifyPosMsg(e,"write-cookie",v)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(5),s=n(4),a=n(3),u=n(14),d=n(12),f=n(13);t.default=o},function(e,t,n){var o;!function(r,i){"use strict";var s=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,n,o){return 1===arguments.length?t.get(e):t.set(e,n,o)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){t._cachedDocumentCookie!==t._document.cookie&&t._renewCache();var n=t._cache[t._cacheKeyPrefix+e];return void 0===n?void 0:decodeURIComponent(n)},t.set=function(e,n,o){return o=t._getExtendedOptions(o),o.expires=t._getExpiresDate(void 0===n?-1:o.expires),t._document.cookie=t._generateCookieString(e,n,o),t},t.expire=function(e,n){return t.set(e,void 0,n)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&void 0!==e.secure?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){if(n=n||new Date,"number"==typeof e?e=e===1/0?t._maxExpireDate:new Date(n.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var o=e+"="+t;return o+=n.path?";path="+n.path:"",o+=n.domain?";domain="+n.domain:"",o+=n.expires?";expires="+n.expires.toUTCString():"",o+=n.secure?";secure":""},t._getCacheFromString=function(e){for(var n={},o=e?e.split("; "):[],r=0;r<o.length;r++){var i=t._getKeyValuePairFromCookieString(o[r]);void 0===n[t._cacheKeyPrefix+i.key]&&(n[t._cacheKeyPrefix+i.key]=i.value)}return n},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var n,o=e.substr(0,t);try{n=decodeURIComponent(o)}catch(e){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+o+'"',e)}return{key:n,value:e.substr(t+1)}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="1"===t.set("cookies.js",1).get("cookies.js");return t.expire("cookies.js"),e},t.enabled=t._areEnabled(),t},a=r&&"object"==typeof r.document?s(r):s;void 0!==(o=function(){return a}.call(t,n,t,e))&&(e.exports=o)}("undefined"==typeof window?this:window)}]);